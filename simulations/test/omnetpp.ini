# omnetpp.ini configuration for DualUe testing

[General]
network = DualUeTestNetwork
eventlog-file = DualUeTestNetwork-${runnumber}.log
sim-time-limit = 190s


*.**.radio.antenna.mobilityModule = "^.^.^.mobility"

# Radio medium configuration
*.radioMedium.backgroundNoise.power = -100dBm
*.accessPoint.wlan[0].radio.transmitter.power = 4mW
*.accessPoint.wlan[0].radio.transmitter.communicationRange = 200m
*.accessPoint.wlan[0].radio.receiver.sensitivity = -95dBm 


############### Number of Resource Blocks ################
**.numBands = 6 # this value should be kept equal to the number of RBs

############### Transmission Power ##################
**.ueTxPower = 26
**.eNodeBTxPower = 40

# Configure the DualUe parameters
*.ue[*].enableHandover = true
*.ue[*].handoverThreshold = -80dBm
*.ue[*].handoverHysteresis = 5dB
*.ue[*].measurementInterval = 1s

# HandoverManager configuration
*.ue[*].HandoverManager.measurementInterval = 1s
*.ue[*].HandoverManager.lteRsrpThreshold = -80dBm
*.ue[*].HandoverManager.wifiRssiThreshold = -70dBm
*.ue[*].HandoverManager.hysteresis = 5dB
*.ue[*].HandoverManager.handoverDelay = 0.1s
*.ue[*].HandoverManager.ltePriority = 10
*.ue[*].HandoverManager.wifiPriority = 20  # WiFi preferred when available
*.ue[*].HandoverManager.enableLteToWifi = true
*.ue[*].HandoverManager.enableWifiToLte = true
*.ue[*].HandoverManager.logHandovers = true
*.ue[*].HandoverManager.logFile = "handovers.csv"

# LTE interface configuration
*.ue[*].cellularNic.phy.channelModel.shadowing = true
*.ue[*].cellularNic.phy.channelModel.fading = true
*.ue[*].cellularNic.phy.channelModel.shadowing = true

# WiFi interface configuration
*.ue[*].wlan[*].radio.transmitter.power = 20mW
*.ue[*].wlan[*].radio.receiver.sensitivity = -85dBm
*.ue[*].wlan[*].radio.receiver.snirThreshold = 4dB

# Mobility configuration
*.ue[*].mobility.typename = "LinearMobility"
*.ue[*].mobility.speed = 5mps  # 5 meters per second
*.ue[*].mobility.initialX = 100m
*.ue[*].mobility.initialY = 100m
*.ue[*].mobility.initialZ = 1.5m
*.ue[*].mobility.constraintAreaMinX = 0m
*.ue[*].mobility.constraintAreaMaxX = 1000m
*.ue[*].mobility.constraintAreaMinY = 0m
*.ue[*].mobility.constraintAreaMaxY = 1000m
*.ue[*].mobility.initialMovementHeading = 30deg * parent.index # degrees
